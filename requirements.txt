# =============================================================================
# Triton Spark TTS + RVC Combined Requirements
# =============================================================================
# Priority: Triton/Spark versions take precedence where conflicts exist
# Target: NVIDIA GPU (CUDA), Python 3.11
# =============================================================================

# -----------------------------------------------------------------------------
# CORE: PyTorch (from Triton container or CUDA wheels)
# -----------------------------------------------------------------------------
# NOTE: In Triton container, these come pre-installed
# For Colab/local, use CUDA wheels:
# pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu121
#
# If installing manually:
# torch>=2.0.0
# torchaudio>=2.0.0

# -----------------------------------------------------------------------------
# TRITON/SPARK TTS Dependencies
# -----------------------------------------------------------------------------
einx==0.3.0
omegaconf>=2.3.0
soundfile==0.12.1
soxr>=0.5.0
tritonclient[all]>=2.42.0
librosa==0.10.2
huggingface-hub>=0.24.0,<1.0
transformers>=4.49.0

# -----------------------------------------------------------------------------
# RVC Inference Dependencies
# -----------------------------------------------------------------------------
# fairseq - MUST install from git (required for HuBERT):
# pip install git+https://github.com/One-sixth/fairseq.git

faiss-cpu>=1.7.0
pyworld==0.3.2
praat-parselmouth>=0.4.2
torchcrepe==0.0.23
ffmpeg-python>=0.2.0
av>=9.0.0

# -----------------------------------------------------------------------------
# Shared / Common Dependencies
# -----------------------------------------------------------------------------
numpy>=1.24.0,<2.0
scipy>=1.9.0
numba>=0.56.0
llvmlite>=0.39.0
joblib>=1.1.0
tqdm>=4.63.1
python-dotenv>=1.0.0
requests>=2.28.0

# -----------------------------------------------------------------------------
# ONNX Runtime (for RMVPE on GPU)
# -----------------------------------------------------------------------------
onnxruntime-gpu>=1.13.0

# -----------------------------------------------------------------------------
# Optional: For API Server (future)
# -----------------------------------------------------------------------------
# fastapi>=0.100.0
# uvicorn>=0.21.1

# -----------------------------------------------------------------------------
# NOT INCLUDED (UI dependencies we don't need):
# -----------------------------------------------------------------------------
# gradio - UI only
# matplotlib - plotting only
# tensorboard/tensorboardX - training only
# Pillow - image processing (not needed for audio)
# scikit-learn - training only
# Cython - build only
# torch-directml - AMD only
# einops - not needed for inference
# torchfcpe - alternative F0, not required
# ffmpy - redundant with ffmpeg-python
